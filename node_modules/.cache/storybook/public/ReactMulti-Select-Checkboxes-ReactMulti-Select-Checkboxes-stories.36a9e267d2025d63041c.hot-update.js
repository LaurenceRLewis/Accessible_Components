"use strict";
self["webpackHotUpdatetable_header_with_sub_header"]("ReactMulti-Select-Checkboxes-ReactMulti-Select-Checkboxes-stories",{

/***/ "./stories/ReactMulti-Select-Checkboxes/ReactMulti-Select-Checkboxes.js":
/*!******************************************************************************!*\
  !*** ./stories/ReactMulti-Select-Checkboxes/ReactMulti-Select-Checkboxes.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _ReactMulti_Select_Checkboxes_module_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ReactMulti-Select-Checkboxes.module.css */ "./stories/ReactMulti-Select-Checkboxes/ReactMulti-Select-Checkboxes.module.css");
/* harmony import */ var _ariaAnnounce__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ariaAnnounce */ "./stories/ReactMulti-Select-Checkboxes/ariaAnnounce.js");
/* harmony import */ var _keyboardNavigation__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./keyboardNavigation */ "./stories/ReactMulti-Select-Checkboxes/keyboardNavigation.js");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");






const ReactMultiSelectCheckboxes = ({
  alternativeSelectionModel
}) => {
  const [expanded, setExpanded] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);
  const [checkCount, setCheckCount] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(0);
  const catBreedGroup = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
  const checkboxesRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)([]);
  const totalCheckboxes = 3;
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    const handleClickOutside = event => {
      if (catBreedGroup.current && !catBreedGroup.current.contains(event.target)) {
        setExpanded(false);
      }
    };
    document.addEventListener("mousedown", handleClickOutside);
    return () => {
      document.removeEventListener("mousedown", handleClickOutside);
    };
  }, []);
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    checkboxesRef.current.forEach(checkbox => checkbox.addEventListener("keydown", onKeyDown));
    return () => {
      checkboxesRef.current.forEach(checkbox => checkbox.removeEventListener("keydown", onKeyDown));
    };
  }, []);
  const toggleDisclosure = () => {
    setExpanded(!expanded);
  };
  const updateCheckCount = event => {
    const targetCheckbox = event.target;
    const isChecked = targetCheckbox.checked;
    if (alternativeSelectionModel) {
      checkboxesRef.current.forEach(checkbox => {
        if (checkbox !== targetCheckbox) {
          checkbox.checked = false;
        }
      });
      targetCheckbox.checked = !isChecked;
      setCheckCount(!isChecked ? 1 : 0);
    } else {
      const newCheckCount = isChecked ? checkCount + 1 : checkCount - 1;
      setCheckCount(newCheckCount);
    }

    // Use checkCount + 1 or checkCount - 1 to get the correct count for the announcement
    const announcementCount = isChecked ? checkCount + 1 : checkCount - 1;
    (0,_ariaAnnounce__WEBPACK_IMPORTED_MODULE_3__["default"])(`${announcementCount} of ${totalCheckboxes} checkboxes checked`);
  };
  const onKeyDown = event => {
    (0,_keyboardNavigation__WEBPACK_IMPORTED_MODULE_4__["default"])(event, checkboxesRef.current, updateCheckCount, alternativeSelectionModel);
  };
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("div", {
    className: _ReactMulti_Select_Checkboxes_module_css__WEBPACK_IMPORTED_MODULE_1__["default"].container,
    children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("button", {
      type: "button",
      "aria-expanded": expanded,
      onClick: toggleDisclosure,
      "aria-controls": "CatBreedGroup",
      className: _ReactMulti_Select_Checkboxes_module_css__WEBPACK_IMPORTED_MODULE_1__["default"].button,
      children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("span", {
        className: _ReactMulti_Select_Checkboxes_module_css__WEBPACK_IMPORTED_MODULE_1__["default"].icon,
        children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("svg", {
          xmlns: "http://www.w3.org/2000/svg",
          viewBox: "0 0 80 80",
          focusable: "false",
          children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("path", {
            d: "M70.3 13.8L40 66.3 9.7 13.8z"
          })
        })
      }), "Cat Breeds", /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("span", {
        className: _ReactMulti_Select_Checkboxes_module_css__WEBPACK_IMPORTED_MODULE_1__["default"].counter,
        children: ["(", checkCount, " of ", totalCheckboxes, " selected)"]
      })]
    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div", {
      role: "listbox",
      "aria-labelledby": "CatBreedGroupTrigger",
      id: "CatBreedGroup",
      ref: catBreedGroup,
      className: expanded ? _ReactMulti_Select_Checkboxes_module_css__WEBPACK_IMPORTED_MODULE_1__["default"].catBreedGroup : _ReactMulti_Select_Checkboxes_module_css__WEBPACK_IMPORTED_MODULE_1__["default"].hidden,
      children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("ul", {
        children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("li", {
          children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("input", {
            type: "checkbox",
            name: "catBreed",
            id: "catBreed1",
            value: "Bengal",
            checked: selectedCheckboxes.includes(0),
            ref: el => checkboxesRef.current[0] = el
          }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("label", {
            htmlFor: "catBreed1",
            children: "Bengal"
          })]
        }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("li", {
          children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("input", {
            type: "checkbox",
            name: "catBreed",
            id: "catBreed2",
            value: "Siamese",
            checked: selectedCheckboxes.includes(1),
            ref: el => checkboxesRef.current[1] = el
          }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("label", {
            htmlFor: "catBreed2",
            children: "Siamese"
          })]
        }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("li", {
          children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("input", {
            type: "checkbox",
            name: "catBreed",
            id: "catBreed3",
            value: "Maine Coon",
            checked: selectedCheckboxes.includes(2),
            ref: el => checkboxesRef.current[2] = el
          }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("label", {
            htmlFor: "catBreed3",
            children: "Maine Coon"
          })]
        })]
      })
    })]
  });
};
ReactMultiSelectCheckboxes.displayName = "ReactMultiSelectCheckboxes";
ReactMultiSelectCheckboxes.__docgenInfo = {
  "description": "",
  "methods": [],
  "displayName": "ReactMultiSelectCheckboxes"
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ReactMultiSelectCheckboxes);

/***/ })

});
//# sourceMappingURL=ReactMulti-Select-Checkboxes-ReactMulti-Select-Checkboxes-stories.36a9e267d2025d63041c.hot-update.js.map