"use strict";
self["webpackHotUpdatetable_header_with_sub_header"]("ReactMultiSelect-ReactMultiSelect-stories",{

/***/ "./.storybook/utils/ariaAnnounce.js":
/*!******************************************!*\
  !*** ./.storybook/utils/ariaAnnounce.js ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
const ariaAnnounce = message => {
  const liveRegion = document.createElement("div");
  liveRegion.style.position = "absolute";
  liveRegion.style.width = "1px";
  liveRegion.style.height = "1px";
  liveRegion.style.marginTop = "-1px";
  liveRegion.style.clip = "rect(1px, 1px, 1px, 1px)";
  liveRegion.style.overflow = "hidden";
  liveRegion.setAttribute("aria-live", "assertive");
  liveRegion.setAttribute("aria-atomic", "true");
  liveRegion.setAttribute("role", "status");
  document.body.appendChild(liveRegion);
  setTimeout(() => {
    liveRegion.innerText = message;
  }, 50);
  setTimeout(() => {
    document.body.removeChild(liveRegion);
  }, 7000);
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ariaAnnounce);

/***/ }),

/***/ "./stories/ReactMultiSelect/ReactMultiSelect.js":
/*!******************************************************!*\
  !*** ./stories/ReactMultiSelect/ReactMultiSelect.js ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _storybook_utils_ariaAnnounce__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../.storybook/utils/ariaAnnounce */ "./.storybook/utils/ariaAnnounce.js");
/* harmony import */ var _keyboardNavigation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./keyboardNavigation */ "./stories/ReactMultiSelect/keyboardNavigation.js");
/* harmony import */ var _ReactMultiSelect_module_css__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ReactMultiSelect.module.css */ "./stories/ReactMultiSelect/ReactMultiSelect.module.css");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");








const veganIngredients = ['Tofu', 'Almond Milk', 'Avocado', 'Quinoa', 'Kale', 'Lentils'];
const ReactMultiSelect = ({
  selectionModel
}) => {
  const [selectedOptions, setSelectedOptions] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);
  const [isListboxOpen, setListboxOpen] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);
  const listboxRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    if (isListboxOpen && listboxRef.current.children.length > 0) {
      listboxRef.current.children[0].focus();
    }
  }, [isListboxOpen]);
  const handleSelectOption = option => {
    let newSelectedOptions;
    if (selectionModel === 'alternative') {
      newSelectedOptions = [option];
    } else {
      newSelectedOptions = selectedOptions.includes(option) ? selectedOptions.filter(item => item !== option) : [...selectedOptions, option];
    }
    setSelectedOptions(newSelectedOptions);
    (0,_storybook_utils_ariaAnnounce__WEBPACK_IMPORTED_MODULE_5__["default"])(`Selected ${newSelectedOptions.length} items.`);
  };
  const handleKeyDown = (0,_keyboardNavigation__WEBPACK_IMPORTED_MODULE_2__["default"])(isListboxOpen, listboxRef, handleSelectOption, selectionModel);
  const handleDismissOption = option => {
    const newSelectedOptions = selectedOptions.filter(item => item !== option);
    setSelectedOptions(newSelectedOptions);
    (0,_storybook_utils_ariaAnnounce__WEBPACK_IMPORTED_MODULE_5__["default"])(`Removed ${option}. ${newSelectedOptions.length} items remaining.`);
  };
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div", {
    className: _ReactMultiSelect_module_css__WEBPACK_IMPORTED_MODULE_3__["default"]["multi-select-container"],
    children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("h2", {
      children: "Your Ingredients"
    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div", {
      className: _ReactMultiSelect_module_css__WEBPACK_IMPORTED_MODULE_3__["default"]["selected-options"],
      children: selectedOptions.map((option, index) => /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("button", {
        onClick: () => handleDismissOption(option),
        "aria-label": `Remove ${option}`,
        children: [option, " \xD7"]
      }, index))
    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("button", {
      onClick: () => setListboxOpen(!isListboxOpen),
      children: "Toggle Listbox"
    }), isListboxOpen && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("ul", {
      ref: listboxRef,
      className: _ReactMultiSelect_module_css__WEBPACK_IMPORTED_MODULE_3__["default"].listbox,
      role: "listbox",
      "aria-label": "Ingredients",
      tabIndex: "0",
      onKeyDown: handleKeyDown,
      children: veganIngredients.map((option, index) => /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("li", {
        role: "option",
        "aria-selected": selectedOptions.includes(option),
        className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(_ReactMultiSelect_module_css__WEBPACK_IMPORTED_MODULE_3__["default"]["listbox-option"], {
          [_ReactMultiSelect_module_css__WEBPACK_IMPORTED_MODULE_3__["default"].selected]: selectedOptions.includes(option)
        }),
        onClick: () => handleSelectOption(option),
        tabIndex: "-1" // Ensure list items can receive focus
        ,
        children: option
      }, index))
    })]
  });
};
ReactMultiSelect.displayName = "ReactMultiSelect";
ReactMultiSelect.propTypes = {
  selectionModel: prop_types__WEBPACK_IMPORTED_MODULE_6___default().oneOf(['default', 'alternative'])
};
ReactMultiSelect.defaultProps = {
  selectionModel: 'default'
};
ReactMultiSelect.__docgenInfo = {
  "description": "",
  "methods": [],
  "displayName": "ReactMultiSelect",
  "props": {
    "selectionModel": {
      "defaultValue": {
        "value": "'default'",
        "computed": false
      },
      "description": "",
      "type": {
        "name": "enum",
        "value": [{
          "value": "'default'",
          "computed": false
        }, {
          "value": "'alternative'",
          "computed": false
        }]
      },
      "required": false
    }
  }
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ReactMultiSelect);

/***/ })

});
//# sourceMappingURL=ReactMultiSelect-ReactMultiSelect-stories.cbedd6c831e18e65da99.hot-update.js.map